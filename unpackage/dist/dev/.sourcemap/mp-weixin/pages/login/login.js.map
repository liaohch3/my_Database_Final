{"version":3,"sources":["webpack:///E:/Program/DBproject/temp/头头难/main.js","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?32d1","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?7c14","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?ad18","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?6a69","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?0bcf","webpack:///E:/Program/DBproject/temp/头头难/pages/login/login.vue?88da"],"names":["createPage","Page","data","canIUse","isHide","nickName","openid","session_key","avatarUrl","methods","getUserInfo","res","me","console","log","userInfo","detail","gender","province","city","country","iv","uni","showToast","title","icon","login","provider","success","loginRes","request","url","code","db","wx","cloud","database","projectCollection","collection","add","setStorageSync","fail","r","navigateBack"],"mappings":"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","file":"pages/login/login.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/login/login.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=7be93b79&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./login.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\chromeDownload\\\\HBuilderX.2.4.6.20191210.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('7be93b79', component.options)\n    } else {\n      api.reload('7be93b79', component.options)\n    }\n    module.hot.accept(\"./login.vue?vue&type=template&id=7be93b79&\", function () {\n      api.rerender('7be93b79', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Program/DBproject/temp/头头难/pages/login/login.vue\"\nexport default component.exports","export * from \"-!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=template&id=7be93b79&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\n\t\t\t// canIUse: wx.canIUse('button.open-type.getUserInfo'),\n\t\t\tcanIUse: true,\n\t\t\tisHide: false,\n\t\t\tnickName: '',\n\t\t\topenid: '',\n\t\t\tsession_key: '',\n\t\t\tavatarUrl: '',\n\n\t\t\t\n\t\t}\n\t},\n\tmethods: {\n\t\tgetUserInfo:function(res){\n\t\t\tvar me = this;\n\t\t\tconsole.log('res', res);\n\t\t\t\n\t\t\tvar userInfo = res.detail.userInfo;\n\t\t\tvar nickName = userInfo.nickName;\n\t\t\tvar avatarUrl = userInfo.avatarUrl;\n\t\t\tvar gender = userInfo.gender; //性别 0：未知、1：男、2：女\n\t\t\tvar province = userInfo.province;\n\t\t\tvar city = userInfo.city;\n\t\t\tvar country = userInfo.country;\n\t\t\tif(!res.detail.iv){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: \"您取消了授权，登陆失败\",\n\t\t\t\t\ticon: \"none\"\n\t\t\t\t});\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\t\t\n\t\t\tuni.login({\n\t\t\t\tprovider:'weixin',\n\t\t\t\tsuccess:function(loginRes){\n\t\t\t\t\t// console.log(loginRes);\n\t\t\t\t\tuni.request({                           \n\t\t\t\t\t\turl: 'https://api.weixin.qq.com/sns/jscode2session?appid=wxc708106e4bcd4934&secret=c95edcc7d59fbeff19fc6261af70dd2c&js_code=' + loginRes.code + '&grant_type=authorization_code',\n\t\t\t\t\t\t\n\t\t\t\t\t    success: res => {\n\t\t\t\t\t        // 获取到用户的 openid\n\t\t\t\t\t\t\tme.openid = res.data.openid;\n\t\t\t\t\t\t\tme.session_key = res.data.session_key;\n\t\t\t\t\t\t\tconst db = wx.cloud.database();\n\t\t\t\t\t\t\tconst projectCollection = db.collection('login_users');\n\t\t\t\t\t\t\tprojectCollection.add({\n\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\topenid: me.openid,\n\t\t\t\t\t\t\t\t\tsession_key: me.session_key,\n\t\t\t\t\t\t\t\t\tnickName: userInfo.nickName,\n\t\t\t\t\t\t\t\t\tavatarUrl: userInfo.avatarUrl,\n\t\t\t\t\t\t\t\t\tgender: userInfo.gender, \n\t\t\t\t\t\t\t\t\tprovince: userInfo.province,\n\t\t\t\t\t\t\t\t\tcity: userInfo.city,\n\t\t\t\t\t\t\t\t\tcountry: userInfo.country\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tsuccess:res => {\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.setStorageSync('suid', me.openid);\n\t\t\t\t\t\t\tuni.setStorageSync('srand', me.session_key);\n\t\t\t\t\t\t\tuni.setStorageSync('nickName', userInfo.nickName);\n\t\t\t\t\t\t\tuni.setStorageSync('avatarUrl', userInfo.avatarUrl);\n\t\t\t\t\t\t\tuni.setStorageSync('gender', userInfo.gender);\n\t\t\t\t\t\t\tuni.setStorageSync('province', userInfo.province);\n\t\t\t\t\t\t\tuni.setStorageSync('city', userInfo.city);\n\t\t\t\t\t\t\tuni.setStorageSync('country', userInfo.country);\n\t\t\t\t\t    }\n\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tfail:function(r){\n\t\t\t\t\tconsole.log(r); \n\t\t\t\t}\n\t\t\t});\n\t\t\tuni.navigateBack({\n\t\t\t\n\t\t\t});\n\n\t\t}\n\t}\n}\n","import mod from \"-!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./login.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}