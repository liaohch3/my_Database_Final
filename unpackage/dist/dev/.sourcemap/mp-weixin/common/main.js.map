{"version":3,"sources":["webpack:///E:/Program/DBproject/temp/头头难/main.js","webpack:///E:/Program/DBproject/temp/头头难/App.vue?e4be","webpack:///E:/Program/DBproject/temp/头头难/App.vue?1d1e","webpack:///E:/Program/DBproject/temp/头头难/App.vue","webpack:///E:/Program/DBproject/temp/头头难/App.vue?95d6","webpack:///E:/Program/DBproject/temp/头头难/App.vue?db8c"],"names":["Vue","config","productionTip","App","mpType","app","$mount","onLaunch","wx","cloud","init","traceUser","env","login_code","checkSession","success","login","res","code","console","log","errMsg","uni","getUserInfo","userRes","userInfo","request","url","requestRes","openid","data","session_key","callFunction","name","nickName","avatarUrl","gender","province","city","country","catch","err","setStorageSync","fail","showModal","title","content","navigateTo"],"mappings":"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","file":"common/main.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\r\nimport Vue from 'vue'\r\nimport App from './App'\r\n\r\nVue.config.productionTip = false\r\n\r\nApp.mpType = 'app'\r\n\r\nconst app = new Vue({\r\n    ...App\r\n})\r\napp.$mount()","var render, staticRenderFns\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\chromeDownload\\\\HBuilderX.2.4.6.20191210.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('d94dd57c', component.options)\n    } else {\n      api.reload('d94dd57c', component.options)\n    }\n    \n  }\n}\ncomponent.options.__file = \"Program/DBproject/temp/头头难/App.vue\"\nexport default component.exports","import mod from \"-!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","\nexport default {\n\n\tonLaunch: function() {\n\t\twx.cloud.init({\n\t\t\ttraceUser: true,\n\t\t\tenv: 'liaohch3-j5hup'\n\t\t});\n\t\tvar login_code = '';\n\t\t\n\t\twx.checkSession({\n\t\t  success () {\n\t\t\twx.login({\n\t\t\t  success (res) {\n\t\t\t    if (res.code) {\n\t\t\t      login_code = res.code;\n\t\t\t    } else {\n\t\t\t      console.log('登录失败！' + res.errMsg)\n\t\t\t    }\n\t\t\t  }\n\t\t\t})\n\t\t\tuni.getUserInfo({\n\t\t\t\tsuccess: function(userRes) {\n\t\t\t\t\tvar userInfo = userRes.userInfo;\n\t\t\t\t\tconsole.log('userinfo', userInfo);\t\n\t\t\t\t\tconsole.log('login_code', login_code);\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\tuni.request({\n\t\t\t\t\t\turl: 'https://api.weixin.qq.com/sns/jscode2session?appid=wxc708106e4bcd4934&secret=c95edcc7d59fbeff19fc6261af70dd2c&js_code=' + login_code + '&grant_type=authorization_code',\n\t\t\t\t\t\tsuccess: requestRes => {\n\t\t\t\t\t\t\tconsole.log('requestRes', requestRes);\n\t\t\t\t\t\t\tvar openid = requestRes.data.openid;\n\t\t\t\t\t\t\tvar session_key = requestRes.data.session_key;\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\twx.cloud.callFunction({\n\t\t\t\t\t\t\t\t\tname: 'updateData',\n\t\t\t\t\t\t\t\t\tenv: 'liaohch3-j5hup',\n\t\t\t\t\t\t\t\t\tdata: {\n\t\t\t\t\t\t\t\t\t\tnickName: userInfo.nickName,\n\t\t\t\t\t\t\t\t\t\tavatarUrl: userInfo.avatarUrl,\n\t\t\t\t\t\t\t\t\t\tgender: userInfo.gender,\n\t\t\t\t\t\t\t\t\t\tprovince: userInfo.province,\n\t\t\t\t\t\t\t\t\t\tcity: userInfo.city,\n\t\t\t\t\t\t\t\t\t\tcountry: userInfo.country\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).catch(err => {\n\t\t\t\t\t\t\t\t  // handle error\n\t\t\t\t\t\t\t\t  console.log('myerr', err);\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tconsole.log('数据库更新');\n\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tconsole.log('opn', openid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tuni.setStorageSync('nickName', userInfo.nickName);\n\t\t\t\t\t\t\tuni.setStorageSync('avatarUrl', userInfo.avatarUrl);\n\t\t\t\t\t\t\tuni.setStorageSync('gender', userInfo.gender);\n\t\t\t\t\t\t\tuni.setStorageSync('province', userInfo.province);\n\t\t\t\t\t\t\tuni.setStorageSync('city', userInfo.city);\n\t\t\t\t\t\t\tuni.setStorageSync('country', userInfo.country);\n\t\t\t\t\t\t\tuni.setStorageSync('current_skin', \"#4191ea\");\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t}\n\t\t\t})\n\t\t  },\n\t\t  fail () {\n\t\t    // session_key 已经失效，需要重新执行登录流程\n\t\t    uni.showModal({\n\t\t    \ttitle: '提醒',\n\t\t    \tcontent: \"请登录\",\n\t\t    \tsuccess:function(){\n\t\t    \t\tuni.navigateTo({\n\t\t    \t\t\turl:\"/pages/login/login\"\n\t\t    \t\t});\n\t\t    \t},\n\t\t    });\n\t\t  }\n\t\t})\n\t\t\n\t\t// var res = false;\n\t\t// var suid = '';\n\t\t// var srand = '';\n\t\t// try{\n\t\t// \tsuid = uni.getStorageSync('suid');\n\t\t// \tsrand = uni.getStorageSync('srand');\n\t\t// \tif(suid != '' || srand != ''){\n\t\t// \t\tres = true;\n\t\t// \t}\n\t\t// }catch(e){\n\t\t// \tif(suid == '' || srand == ''){\n\t\t// \t\tres =  false;\n\t\t// \t\tconsole.log('未登录');\n\t\t// \t}\n\t\t// }\n\t\t// if(!res){\n\t\t// \tuni.showModal({\n\t\t// \t\ttitle: '提醒',\n\t\t// \t\tcontent: \"请登录\",\n\t\t// \t\tsuccess:function(){\n\t\t// \t\t\tuni.navigateTo({\n\t\t// \t\t\t\turl:\"/pages/login/login\"\n\t\t// \t\t\t});\n\t\t// \t\t},\n\t\t// \t});\n\t\t// }else{\n\t\t// \tuni.getUserInfo({\n\t\t// \t\tsuccess: function(userRes) {\n\t\t// \t\t\tvar userInfo = userRes.userInfo;\n\t\t// \t\t\tconsole.log('userinfo', userInfo);\t\t\t\t\t\t\n\t\t// \t\t\tuni.request({\n\t\t// \t\t\t\turl: 'https://api.weixin.qq.com/sns/jscode2session?appid=wxc708106e4bcd4934&secret=c95edcc7d59fbeff19fc6261af70dd2c&js_code=' + userRes.code + '&grant_type=authorization_code',\n\t\t// \t\t\t\tsuccess: requestRes => {\n\t\t// \t\t\t\t\tconsole.log('requestRes', requestRes);\n\t\t// \t\t\t\t\tvar openid = requestRes.data.openid;\n\t\t// \t\t\t\t\tvar session_key = requestRes.data.session_key;\n\t\t\t\t\t\t\t \n\t\t//\n\t\t// \t\t\t\t\t\twx.cloud.callFunction({\n\t\t// \t\t\t\t\t\t\tname: 'updateData'\n\t\t// \t\t\t\t\t\t});\n\t\t// \t\t\t\t\t\tconsole.log('数据库更新');\n\t\t//\n\t\t\t\t\t\t\t\n\t\t// \t\t\t\t\tconsole.log('opn', openid);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t// \t\t\t\t\t// uni.setStorageSync('suid', openid);\n\t\t// \t\t\t\t\t// uni.setStorageSync('srand', session_key);\n\t\t// \t\t\t\t\tuni.setStorageSync('nickName', userInfo.nickName);\n\t\t// \t\t\t\t\tuni.setStorageSync('avatarUrl', userInfo.avatarUrl);\n\t\t// \t\t\t\t\tuni.setStorageSync('gender', userInfo.gender);\n\t\t// \t\t\t\t\tuni.setStorageSync('province', userInfo.province);\n\t\t// \t\t\t\t\tuni.setStorageSync('city', userInfo.city);\n\t\t// \t\t\t\t\tuni.setStorageSync('country', userInfo.country);\n\t\t// \t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t// \t\t\t})\n\t\t\t\t\t\n\t\t// \t\t}\n\t\t// \t})\n\t\t\t\n\t\t// }\n\t\t\n\t\t\n\t}\n\n}\n","import mod from \"-!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../chromeDownload/HBuilderX.2.4.6.20191210.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}